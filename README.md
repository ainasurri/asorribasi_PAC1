Login UOC
asorribasi
-
Nom i cognoms de l’alumne.
Aina Sorribas i Carré
-
Breu descripció del que s'ha realitzat en aquesta PAC, dificultats, millores realitzades, si cal tenir alguna cosa en compte a l'hora de corregir/executar la pràctica o qualsevol aspecte que vulgueu destacar.

Tots els exercicis s’ha realitzat primer seguint els vídeos i després afegint les modificacions pertinents. 
Per al primer exercici, s’ha creat un nou input de tipus numèric a la part inferior del formulari. S’ha creat una funció nova anomenada edatCheck que permet que salti un error si es compleix la condició que l’edat és inferior a 0 i superior a 1000. En cas contrari, la valida correctament. S’ha modificat també el nombre de caràcters mínim permesos per la contrasenya i finalment s’ha afegit una funció anomenada checkPasswordChar que comprova que la contrasenya que s’intenta validar contingui almenys una lletra minúscula, una majúscula, una xifra i un dels símbols que demanava l’activitat. Aquestes funcions s’han inclòs dins del if del checkRequired, de manera que cada cop que es detecta un submit, es comprova que tots els camps estiguin plens i dispara totes les funcions de comprovació de dades.
Pel que fa a les millores que es demanava per l’activitat 2, s’ha afegir dos innerText: un  que mostra un missatge per pantalla just abans de començar el fetch i un altre quan ja ha retornat les dades, aquest últim sense contingut, de manera que “esborra” el text. Aquest apareix tan breument que a penes es pot percebre a la pantalla, no dura més de dues mil·lèsimes de segon. Per tal de mostrar un missatge d’error si hi ha algun problema fent la consulta a la API, s’ha creat un catch que si detecta error fa saltar un alert amb el text “Error:”  més el nom de l’error. Per evitar nombres negatius, s’ha creat un if dins la funció de càlcul, de manera que si s’introdueix un nombre inferior a 0, aquest automàticament es posarà a 1 i saltarà un missatge indicant que no s’accepten nombres negatius.
Al codi de l’exercici 3 s’ha afegit un desplegable que permet escollir entre euros i dòlars. Aquest canvi es registra mitjançant un addEventListener que el que fa és disparar un fetch que crida la API en cas que es detecti l’Euro com a moneda seleccionada i guarda el la divisa dins la variable rate. Si no es detecta l’Euro, es dona per fet que es tracta de dòlars i per tant no cal modificar els preus de les entrades ja que per defecte estan en aquesta segona moneda. S’esculli tant una com una altra, es disparen dues funcions: updateSelectedCount i updateMovieSelector. El primer és el que comptabilitza la quantitat de seients que estan marcars i la segona genera un desplegable amb variables declarades com a movieList a mode d’array a l’inici del codi. UpdateMovieSelector itera  l’array i multiplica el valor de la segona dada emmagatzemada, en aquest cas, el preu, i el multiplica pel rate guardat en la funció anterior. Fa el display diferent en funció de si ha de donar el preu en euros que en dòlars. Per tal de mostrar el preu final en euros, s’ha aplicat un if dins la funció updateSelectedCount. Si detecta que el valor de la divisa és igual a EUR, el preu es multiplica pel rate, i si no, es mostra en dòlars.
